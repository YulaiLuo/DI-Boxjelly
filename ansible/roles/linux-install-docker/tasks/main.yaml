  - name: Update apt cache
    apt:
      update_cache: yes
      cache_valid_time: 86400 

  - name: Install basic list of packages
    apt:
      name: ['ca-certificates','curl','gnupg']
      state: present
      update_cache: yes
    become: true

  - name: Add Docker GPG key
    apt_key: url=https://download.docker.com/linux/ubuntu/gpg
    become: true

  - name: Add Docker Repository
    apt_repository:
      repo: deb https://download.docker.com/linux/ubuntu focal stable
      state: present

  - name: Install Docker packages
    apt:
      name: ['docker-ce','docker-ce-cli','containerd.io','docker-buildx-plugin',' docker-compose-plugin']
      state: present
    become: true